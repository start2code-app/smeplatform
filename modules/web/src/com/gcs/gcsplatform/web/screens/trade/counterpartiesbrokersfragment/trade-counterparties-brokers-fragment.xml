<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<fragment xmlns="http://schemas.haulmont.com/cuba/screen/fragment.xsd">
    <data>
        <instance id="tradeDc"
                  class="com.gcs.gcsplatform.entity.trade.Trade"
                  provided="true"/>
        <collection id="counterpartiesDc"
                    class="com.gcs.gcsplatform.entity.masterdata.Counterparty">
            <view extends="_local"/>
            <loader id="counterpartiesDl">
                <query>select e from gcsplatform_Counterparty e order by e.counterparty</query>
            </loader>
        </collection>
        <collection id="dealersDc"
                    class="com.gcs.gcsplatform.entity.masterdata.Dealer">
            <view extends="_minimal"/>
            <loader id="dealersDl">
                <query>select e from gcsplatform_Dealer e order by e.dealer</query>
            </loader>
        </collection>
        <collection id="agentsDc"
                    class="com.gcs.gcsplatform.entity.masterdata.Agent">
            <view extends="_minimal">
                <property name="counterparty"
                          view="_local"/>
            </view>
            <loader id="agentsDl">
                <query>select e from gcsplatform_Agent e order by e.agent</query>
            </loader>
        </collection>
    </data>
    <layout spacing="true"
            expand="counterpartiesBrokerageScrollBox"
            height="100%">
        <scrollBox id="counterpartiesBrokerageScrollBox"
                   spacing="true">
            <groupBox id="buyBox"
                      spacing="true"
                      caption="msg://buyGroupBox.caption"
                      width="98%">
                <form>
                    <column width="250px">
                        <lookupPickerField id="buyerLookupPickerField"
                                           caption="msg://com.gcs.gcsplatform.entity.trade/Trade.buyer"
                                           optionsContainer="counterpartiesDc">
                            <actions>
                                <action id="lookup"
                                        type="picker_lookup"/>
                                <action id="clear"
                                        type="picker_clear"/>
                            </actions>
                        </lookupPickerField>
                        <lookupPickerField id="buyBrokerLookupPickerField"
                                           caption="msg://com.gcs.gcsplatform.entity.trade/Trade.buybroker"
                                           optionsContainer="dealersDc">
                            <actions>
                                <action id="lookup"
                                        type="picker_lookup"/>
                                <action id="clear"
                                        type="picker_clear"/>
                            </actions>
                        </lookupPickerField>
                        <textField id="buyerLocationTextField"
                                   dataContainer="tradeDc"
                                   property="buyerLocation"
                                   editable="false"/>
                        <textField id="buyerCode"
                                   dataContainer="tradeDc"
                                   property="buyerCode"
                                   editable="false"/>
                        <textField id="buyerInvoiceCode"
                                   dataContainer="tradeDc"
                                   property="buyerInvoiceCode"
                                   editable="false"/>
                        <lookupPickerField id="buyerAgentLookupPickerField"
                                           caption="msg://com.gcs.gcsplatform.entity.trade/Trade.buyerAgent"
                                           optionsContainer="agentsDc">
                            <actions>
                                <action id="lookup"
                                        type="picker_lookup"/>
                                <action id="clear"
                                        type="picker_clear"/>
                            </actions>
                        </lookupPickerField>
                    </column>
                    <column width="250px">
                        <checkBox id="buySplitCheckBox"
                                  property="buySplit"
                                  dataContainer="tradeDc"/>
                        <lookupPickerField id="buySplitBrokerLookupPickerField"
                                           caption="msg://com.gcs.gcsplatform.entity.trade/Trade.buySplitBroker"
                                           optionsContainer="dealersDc">
                            <actions>
                                <action id="lookup"
                                        type="picker_lookup"/>
                                <action id="clear"
                                        type="picker_clear"/>
                            </actions>
                        </lookupPickerField>
                    </column>
                </form>
            </groupBox>
            <groupBox id="sellBox"
                      spacing="true"
                      caption="msg://sellGroupBox.caption"
                      width="98%">
                <form>
                    <column width="250px">
                        <lookupPickerField id="sellerLookupPickerField"
                                           caption="msg://com.gcs.gcsplatform.entity.trade/Trade.seller"
                                           optionsContainer="counterpartiesDc">
                            <actions>
                                <action id="lookup"
                                        type="picker_lookup"/>
                                <action id="clear"
                                        type="picker_clear"/>
                            </actions>
                        </lookupPickerField>
                        <lookupPickerField id="sellBrokerLookupPickerField"
                                           caption="msg://com.gcs.gcsplatform.entity.trade/Trade.sellbroker"
                                           optionsContainer="dealersDc">
                            <actions>
                                <action id="lookup"
                                        type="picker_lookup"/>
                                <action id="clear"
                                        type="picker_clear"/>
                            </actions>
                        </lookupPickerField>
                        <textField id="sellerLocationTextField"
                                   dataContainer="tradeDc"
                                   property="sellerLocation"
                                   editable="false"/>
                        <textField id="sellerCodeTextField"
                                   dataContainer="tradeDc"
                                   property="sellerCode"
                                   editable="false"/>
                        <textField id="sellerInvoiceCodeTextField"
                                   dataContainer="tradeDc"
                                   property="sellerInvoiceCode"
                                   editable="false"/>
                        <lookupPickerField id="sellerAgentLookupPickerField"
                                           caption="msg://com.gcs.gcsplatform.entity.trade/Trade.sellerAgent"
                                           optionsContainer="agentsDc">
                            <actions>
                                <action id="lookup"
                                        type="picker_lookup"/>
                                <action id="clear"
                                        type="picker_clear"/>
                            </actions>
                        </lookupPickerField>
                    </column>
                    <column width="250px">
                        <checkBox id="sellSplitCheckBox"
                                  property="sellSplit"
                                  dataContainer="tradeDc"/>
                        <lookupPickerField id="sellSplitBrokerLookupPickerField"
                                           caption="msg://com.gcs.gcsplatform.entity.trade/Trade.sellSplitBroker"
                                           optionsContainer="dealersDc">
                            <actions>
                                <action id="lookup"
                                        type="picker_lookup"/>
                                <action id="clear"
                                        type="picker_clear"/>
                            </actions>
                        </lookupPickerField>
                    </column>
                </form>
            </groupBox>
        </scrollBox>
    </layout>
</fragment>
