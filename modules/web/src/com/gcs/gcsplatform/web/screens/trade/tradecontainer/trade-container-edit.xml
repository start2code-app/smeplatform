<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<window xmlns="http://schemas.haulmont.com/cuba/screen/window.xsd"
        messagesPack="com.gcs.gcsplatform.web.screens.trade.tradecontainer">
    <data>
        <instance id="tradeContainerDc"
                  class="com.gcs.gcsplatform.entity.trade.TradeContainer">
            <instance id="tradeDc"
                      property="trade"/>
            <view extends="_local">
                <property name="trade"
                          view="_local"/>
            </view>
            <loader/>
        </instance>
        <collection id="currencyDc"
                    class="com.gcs.gcsplatform.entity.masterdata.Currency">
            <view extends="_minimal"/>
            <loader id="currencyDl">
                <query>select e from gcsplatform_Currency e order by e.currency</query>
            </loader>
        </collection>
    </data>
    <dialogMode forceDialog="true"
                width="900"
                height="650"/>
    <layout expand="tradeTabSheet"
            spacing="true">
        <tabSheet id="tradeTabSheet"
                  stylename="framed">
            <tab id="descriptionTab"
                 caption="msg://descriptionTab.caption"
                 spacing="true"
                 margin="true">
                <form id="descriptionForm"
                      dataContainer="tradeDc">
                    <textField id="traderefField"
                               property="traderef"/>
                    <textField id="utiField"
                               property="uti"/>
                    <textField id="bondDescriptionField"
                               property="bondDescription"/>
                    <textField id="isinField"
                               property="isin"/>
                    <lookupPickerField id="currencyLookupPickerField"
                                       caption="msg://com.gcs.gcsplatform.entity.trade/Trade.currency"
                                       optionsContainer="currencyDc">
                        <actions>
                            <action id="lookup"
                                    type="picker_lookup"/>
                            <action id="clear"
                                    type="picker_clear"/>
                        </actions>
                    </lookupPickerField>
                    <lookupPickerField id="tradeCurrencyLookupPickerField"
                                       caption="msg://com.gcs.gcsplatform.entity.trade/Trade.tradeCurrency"
                                       optionsContainer="currencyDc">
                        <actions>
                            <action id="lookup"
                                    type="picker_lookup"/>
                            <action id="clear"
                                    type="picker_clear"/>
                        </actions>
                    </lookupPickerField>
                    <textField id="nominalField"
                               property="nominal"/>
                    <textField id="repoRateField"
                               property="repoRate"/>
                    <textField id="startPriceField"
                               property="startPrice"/>
                    <textField id="hairCutField"
                               property="hairCut"/>
                    <checkBox id="gmSla"
                              property="gmSla"/>
                </form>
            </tab>
            <tab id="counterpartiesBrokersTab"
                 caption="msg://counterpartiesBrokersTab.caption"
                 spacing="true"
                 margin="true">
                <fragment id="counterpartiesBrokersFragment"
                          screen="gcsplatform_TradeCounterpartiesBrokersFragment"/>
            </tab>
            <tab id="brokerageTab"
                 caption="msg://brokerageTab.caption"
                 spacing="true"
                 margin="true">
                <fragment id="brokerageFragment"
                          screen="gcsplatform_TradeBrokerageFragment"/>
            </tab>
            <tab id="datesTab"
                 caption="msg://datesTab.caption"
                 spacing="true"
                 margin="true">
                <form id="datesForm"
                      dataContainer="tradeDc">
                    <column width="250px">
                        <dateField id="valueDateField"
                                   property="valueDate"
                                   resolution="DAY"/>
                        <dateField id="maturityDateField"
                                   property="maturityDate"
                                   resolution="DAY"
                                   editable="false"/>
                        <dateField id="tradeDateField"
                                   resolution="DAY"
                                   property="tradeDate"/>
                        <textField id="numdaysField"
                                   property="numdays"
                                   editable="false"/>
                    </column>
                </form>
            </tab>
            <tab id="notesTab"
                 caption="msg://notesTab.caption"
                 spacing="true"
                 margin="true">
                <form id="notesForm"
                      dataContainer="tradeDc">
                    <textArea id="notesField"
                              caption="Notes"
                              cols="40"
                              rows="6"/>
                </form>
            </tab>
            <tab id="pnlTab"
                 caption="msg://pnlTab.caption"
                 spacing="true"
                 margin="true">
                <form id="pnlForm"
                      dataContainer="tradeDc">
                    <column width="250px">
                        <currencyField id="buyPnlField"
                                       property="buyPnl"
                                       editable="false"/>
                        <currencyField id="buyGbpEquivalentField"
                                       currency="GBP"
                                       property="buyGbpEquivalent"
                                       editable="false"/>
                        <textField id="fxRateField"
                                   property="xrate1"
                                   editable="false"/>
                    </column>
                    <column width="250px">
                        <currencyField id="sellPnlField"
                                       property="sellPnl"
                                       editable="false"/>
                        <currencyField id="sellGbpEquivalentField"
                                       currency="GBP"
                                       property="sellGbpEquivalent"
                                       editable="false"/>
                    </column>
                </form>
            </tab>
        </tabSheet>
        <hbox id="editActions"
              spacing="true">
            <button id="commitAndCloseBtn"
                    action="windowCommitAndClose"
                    caption="msg://save.caption"/>
            <button id="closeBtn"
                    action="windowClose"/>
        </hbox>
    </layout>
</window>
